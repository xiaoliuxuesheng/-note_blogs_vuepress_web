---
title: 第三章 Vue基础
date: 2022-01-01 00:01:03
permalink: /pages/a44bd6/
categories:
  - Vue基础
tags:
  - 
author: 
  name: xiaoliuxuesheng
  link: https://gitee.com/xiaoliuxuesheng
---

## 3.1 模板语法

> 用于解析标签体内容

## 3.2 Vue指令语法

> 用于解析标签属性、标签体内容、事件绑定等等

v-bind



1. 响应式
2. 计算属性
3. 类与样式
4. 条件选人
5. 列表渲染
6. 事件处理

## 3.3 组件注册

1. 全局组件
2. 局部组件
3. 异步组件

## 3.4 组件传值

### 1. 父传子

- **props数组**：Prop 是可以在组件上注册的一些自定义 attribute。当一个值传递给一个 prop attribute 的时候，它就变成了那个组件实例的一个 property。可以用一个 `props` 选项将其包含在该组件可接受的 prop 列表中：列表中可以拥有任意数量的 prop，任何值都可以传递给任何 prop。子组件实例中访问这个值，就像访问 `data` 中的值一样。

  ```html
  <blog-post title="My journey with Vue"></blog-post>
  <blog-post title="Blogging with Vue"></blog-post>
  <blog-post title="Why Vue is so fun"></blog-post>
  
  <script>
      Vue.component('blog-post', {
        props: ['title'],
        template: '<h3>{{ title }}</h3>'
      })
  </script>
  ```

- **props对象**：props中的参数可以以对象形式列出 prop，这些 property 的名称和值分别是 prop 各自的名称和类型；并且可以为 `props` 中的值提供一个带有验证需求的对象，

  ```js
  Vue.component('my-component', {
    props: {
      // 基础的类型检查 (`null` 和 `undefined` 会通过任何类型验证)
      propA: Number,
      // 多个可能的类型
      propB: [String, Number],
      // 必填的字符串
      propC: {
        type: String,
        required: true
      },
      // 带有默认值的数字
      propD: {
        type: Number,
        default: 100
      },
      // 带有默认值的对象
      propE: {
        type: Object,
        // 对象或数组默认值必须从一个工厂函数获取
        default: function () {
          return { message: 'hello' }
        }
      },
      // 自定义验证函数
      propF: {
        validator: function (value) {
          // 这个值必须匹配下列字符串中的一个
          return ['success', 'warning', 'danger'].indexOf(value) !== -1
        }
      }
    }
  })
  ```

### 2. 子传父

- **自定义事件注意点**：不同于组件和 prop，事件名不会被用作一个 JavaScript 变量名或 property 名，所以不建议使用驼峰命名；由于html大小写不敏感，事件名称会转为全小写，在事件命名推荐使用中横线连接符；

- 数据传输原理是通过子组件的自定义事件将数据以参数的方式传递出去，在使用组件的地方绑定事件并接收参数完成数据传递

  ```html
  1. 子组件中定义事件并绑定参数
  <template id="cpn" >
      <div>
          子组件输入框: <input type="text" @input="inputChange">
      </div>
  </template>
  <script>
      const cpn = Vue.extend({
          template: `#cpn`,
          methods: {
              inputChange (event){
                  this.$emit('sub-change',event.data)
              }
          }
      })
  </script>
  
  2. 在使用组件的部分绑定事件并接收参数
  <div id="app">
      子组件-- <cpn @sub-change="subChange"></cpn>
  </div>
  <script>
      const vm = new Vue({
          el: '#app',
          components: {
              cpn: cpn
          },
          methods: {
              subChange (data) {
                 console.log(data)
              }
          }
      })
  </script>
  ```

- **.sync 修饰符**：

- **.native 修饰符**：

### 3. 同级传值

- **一般大型的项目，推荐使用Vuex来管理组件之间的通信**

- 同级组件不能直接传值，需要一个中间桥梁，可以先将数据传递给公共的父组件，然后父组件再将数据传递给需要的子组件。

  ```html
  <script>
      // 1. 创建一个公共桥梁作为
      const bus = new Vue()
      // 2. 在数据发送方自定义事件将数据发送桥梁
      methods: {
          cpn1Change(event){
              bus.$emit('cnp-one-change',event.data)
          }
      }
      // 3. 在数据接收方的mounted时间钩子函数中始化完成，就开始执行定义的方法
      mounted () {
          bus.$on('cnp-one-change',(val) => {
          })
      }
  </script>
  ```

### 4. $refs

- ref：被用来给元素或子组件注册引用信息，如果在普通的 DOM 元素上使用，引用指向的就是 DOM 元素；如果用在子组件上，引用就指向组件实例：

  ```html
  <!-- `vm.$refs.p` DOM 元素 -->
  <p ref="p">hello</p>
  
  <!-- `vm.$refs.child` 组件实例 -->
  <child-component ref="child"></child-component>
  ```

- $refs：ref引用信息将会注册在父组件的 `$refs` 对象上

  - 当 `v-for` 用于元素或组件的时候，引用信息将是包含 DOM 节点或组件实例的数组。
  - 当引入DOM元素时候：ref 本身是作为渲染结果被创建的，在初始渲染的时候你不能访问它们
  - 当引入组件实例时候：`$refs` 也不是响应式的，不应该在模板中做数据绑定。

### 5. $root

- 当前组件树的根 Vue 实例。

### 6. $parent

- 父实例，如果当前实例有的话。

### 7. $children 

- 当前实例的直接子组件。**需要注意 `$children` 并不保证顺序，也不是响应式的。**如果你发现自己正在尝试使用 `$children` 来进行数据绑定，考虑使用一个数组配合 `v-for` 来生成子组件，并且使用 Array 作为真正的来源。

## 3.5 组件插槽

### 1. 插槽概述

### 2. 插槽入门

### 3. 插槽：name

### 4. 插槽：slot-scope

## 3.6 内置组件


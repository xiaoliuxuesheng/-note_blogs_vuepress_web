---
title: 第六章 Flutter路由
date: 2022-01-03 00:01:06
permalink: /pages/21ec8e/
categories:
  - Flutter基础
tags:
  - 
author: 
  name: xiaoliuxuesheng
  link: https://gitee.com/xiaoliuxuesheng
---

## 6.1 路由概述

1. Route：一个路由是一个屏幕或页面的抽象
2. Navigator：是管理路由的组件，Navigator可以通过路由入栈和出栈来实现页面之间的跳转
   - initialRoute：初始路由，静态路由
   - onGenerateRoute：动态路由，根据规则匹配
   - onUnknownRoute：未知路由，404
   - routes：路由集合，静态路由是在route中提前声明

## 6.2 匿名路由

1. 匿名路由是指在路由跳转时候不需要指定路由名称，直接跳转到对应的页面的组件

   - push：跳转到指定路由

     ```dart
     Navigator.push(
     	context,
         MaterialPageRoute(
     		builder: (context) => 组件对象名称()    
         )
     )
     ```

   - pop：回退，`Navigator.pop(context);`

## 6.3 命名路由

1. 在使用之前先声明路由列表：routes

   ```dart
   class MyApp extends StatelessWidget {
     const MyApp({super.key});
     @override
     Widget build(BuildContext context) {
       return  MaterialApp(
           routes: {
             'first': (context) => const HomeWidget(),
             "unknown": (context) => const HomeWidget(),
           },
       );
     }
   }
   ```

2. 指定初始路由：initialRoute

   ```dart
   class MyApp extends StatelessWidget {
     const MyApp({super.key});
     @override
     Widget build(BuildContext context) {
       return  MaterialApp(
           routes: {
             'first': (context) => const HomeWidget(),
             "unknown": (context) => const HomeWidget(),
           },
           initialRoute: "first",
       );
     }
   }
   ```

3. 指定未知路由：onUnknownRoute

   ```dart
   class MyApp extends StatelessWidget {
     const MyApp({super.key});
   
     @override
     Widget build(BuildContext context) {
       return MaterialApp(
         onUnknownRoute: (settings) => MaterialPageRoute(
           builder: (context) => const HomeWidget(),
         ),
       );
     }
   }
   ```

4. 跳转到命名路由

   ```dart
   Navigetor.pushNamed(context,"路由名称")
   ```

## 6.4 动态路由

1. 动态路由是指由onGenerateRoute生成的动态路由，根据传递的路径参数动态的匹配组件

2. 声明动态路由后，静态路由内配置的路由会失效；

3. 动态路由配

   ```dart
   class MyApp extends StatelessWidget {
     const MyApp({super.key});
   
     @override
     Widget build(BuildContext context) {
       return MaterialApp(
         onGenerateRoute: (settings) {
           return MaterialPageRoute(
             builder: (context) => const HomeWidget(),
           );
         },
       );
     }
   }
   ```

## 6.5 路由传参

1. 匿名路由传参

   - 在路由中声明参数

     ```dart
     Navigator.push(
     	context,
         MaterialPageRoute(
     		builder: (context) {
                 return 组件构造函数(参数名称:参数值);
             }    
         )
     )
     ```

   - 在组件中接收参数：在组件构造函数中定义命名参数

2. 在命名路由传递参数

   - 在路由中声明参数

     ```dart
     Navigetor.pushNamed(context,"路由名称"，arguments:{})
     ```

   - 在组件中接收参数

     ```dar
     ModalRoute.of(context).settings.arguments
     ```

     
